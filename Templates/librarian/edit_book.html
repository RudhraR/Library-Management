{% extends "base.html" %}
{%block title%}
Librarian home
{%endblock%}
{%block content%}

{% if msg %}
<div class="alert alert-success alert-dismissible fade show" role="alert">
        Book details updated successfully!
        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
</div>
{%endif%}

<div class="container text-center" style="margin-top:10px">
    <div class="row">
      <div class="col">
        <img src="{{ book.book_image }}" class="float-start" style="height: 250px; width: 175px;"><br>
      </div>
      <div class="col-8">
        <form method = "post" enctype="multipart/form-data">
          
          <div class="form-group row">
            <label for="book_name" class="col-sm-4 col-form-label">Book Name</label>
            <div class="col-sm-8">
              <input type="text" class="form-control" id="book_name" value="{{book.book_name}}" name="book_name">
            </div>
          </div>

          <div class="form-group row">
            <label for="book_desc" class="col-sm-4 col-form-label">Description</label>
            <div class="col-sm-8">
              <textarea class="form-control" id="exampleFormControlTextarea1" rows="3" name="book_desc" >{{book.book_desc}}</textarea>
            </div>
          </div>
          <div class="form-group row">
              <label for="author" class="col-sm-4 col-form-label">Author</label>
              <div class="col-sm-8">
                <input type="text" class="form-control" id="book_author" value="{{book.author}}" name="author">
              </div>
          </div>
          <div class="form-group row">
              <label for="content" class="col-sm-4 col-form-label">Update Content</label>
              <div class="col-sm-8">       
                  <input class="form-control" type="file" id="content" name="content">
              </div>
          </div>
          <div class="form-group row">
              <label for="section_id" class="col-sm-4 col-form-label">Reassign section</label>
              <div class="form-group col-md-4">
                <select class="form-control " id="section_id" name="section" required>
                  <option value="Choose..." selected>Choose...</option>
                  {%for section in sections %} 
                    <option value="{{section.section_id}}">{{section.section_name}}</option> 
                  {%endfor%}  
                </select>
              </div>
              <label class="col-sm-4 col-form-label">(Current section: {{current_section_name}} )</label>
          </div>

          <!-- <div class="form-group row">
            <label for="author" class="col-sm-4 col-form-label">Author</label>
            <div class="col-sm-8">
              <input type="text" class="form-control" id="book_author" value="{{book.author}}" name="author">
            </div>
        </div> -->

          <div class="form-group row">
            <label for="price" class="col-sm-4 col-form-label">Update Price</label>
            <div class="col-sm-8">
              <input type="number" class="form-control" min="0.00" max="1000.00" step="0.01" id="price" name="price" value="{{book.price}}"/>
            </div>
        </div>

        <div class="form-group row">
          <label for="no_of_pages" class="col-sm-4 col-form-label">No. of pages</label>
          <div class="col-sm-8">
            <input type="number" class="form-control" min="0" max="1000" id="no_of_pages" name="no_of_pages" value="{{book.no_of_pages}}"/>
          </div>
      </div>
          <div class="form-group row">
            <div class="col-sm-10">
              <button type="submit" class="btn btn-primary">Update</button>
            </div>
          </div>
        </form>
      </div>
      <div class="col"></div>
    </div>
  </div>
{%endblock%}